; ==============================================================================
; Xdebug Configuration for Laravel Development
; ==============================================================================

[xdebug]
; Modo do Xdebug: develop, coverage, debug, profile, trace
; develop: Mostra mensagens de erro melhoradas
; debug: Step debugging (para IDEs)
; coverage: Code coverage para testes
; profile: Profiling de performance
; trace: Function trace
; Use vírgula para combinar: develop,debug,coverage
xdebug.mode=${XDEBUG_MODE}

; Host do cliente (sua máquina)
; host.docker.internal funciona no Docker Desktop (Mac/Windows)
; Para Linux, configure extra_hosts no docker-compose.yml
xdebug.client_host=host.docker.internal

; Porta padrão para IDEs (PhpStorm, VS Code, etc)
xdebug.client_port=9003

; Iniciar debug automaticamente ou apenas quando solicitado
; trigger: Apenas quando XDEBUG_TRIGGER está definido (cookie, GET, POST)
; yes: Sempre inicia debug (pode ser lento)
xdebug.start_with_request=trigger

; Nome da IDE key (útil para PhpStorm)
xdebug.idekey=PHPSTORM

; Descobrir automaticamente o host do cliente
xdebug.discover_client_host=false

; Log de conexões (para debug)
xdebug.log=/tmp/xdebug.log
xdebug.log_level=3

; Configurações de profiler
xdebug.output_dir=/tmp
xdebug.profiler_output_name=cachegrind.out.%p

; Configurações de trace
xdebug.trace_output_name=trace.%c

; Limite de profundidade de funções aninhadas
xdebug.max_nesting_level=512

; Mostrar informações de variáveis locais no stack trace
xdebug.show_local_vars=1

; Quantidade máxima de elementos de array a exibir
xdebug.var_display_max_children=256
xdebug.var_display_max_data=1024
xdebug.var_display_max_depth=10

; Habilitar step debugging
xdebug.remote_enable=1

; Formatar saída de var_dump() melhorada
xdebug.cli_color=1
