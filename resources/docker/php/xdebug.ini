; ==============================================================================
; Xdebug Configuration for Laravel Development
; ==============================================================================

[xdebug]
; Xdebug mode: develop, coverage, debug, profile, trace
; develop: Shows improved error messages
; debug: Step debugging (for IDEs)
; coverage: Code coverage for tests
; profile: Performance profiling
; trace: Function trace
; Use comma to combine: develop,debug,coverage
xdebug.mode=${XDEBUG_MODE}

; Client host (your machine)
; host.docker.internal works on Docker Desktop (Mac/Windows)
; For Linux, configure extra_hosts in docker-compose.yml
xdebug.client_host=host.docker.internal

; Default port for IDEs (PhpStorm, VS Code, etc)
xdebug.client_port=9003

; Start debug automatically or only when requested
; trigger: Only when XDEBUG_TRIGGER is defined (cookie, GET, POST)
; yes: Always starts debug (can be slow)
xdebug.start_with_request=trigger

; IDE key name (useful for PhpStorm)
xdebug.idekey=PHPSTORM

; Automatically discover client host
xdebug.discover_client_host=false

; Connection log (for debugging)
xdebug.log=/tmp/xdebug.log
xdebug.log_level=3

; Profiler settings
xdebug.output_dir=/tmp
xdebug.profiler_output_name=cachegrind.out.%p

; Trace settings
xdebug.trace_output_name=trace.%c

; Nested function depth limit
xdebug.max_nesting_level=512

; Show local variable info in stack trace
xdebug.show_local_vars=1

; Maximum array elements to display
xdebug.var_display_max_children=256
xdebug.var_display_max_data=1024
xdebug.var_display_max_depth=10

; Enable step debugging
xdebug.remote_enable=1

; Improved var_dump() output formatting
xdebug.cli_color=1
